<section>
  <div id="content-container" class="container">

    <div class="page-header">
      <a ui-sref="article-senders.create" class="btn btn-primary pull-right">새 보도자료 작성</a>
      <h1>보도자료</h1>
    </div>

    <div>
      <p>예약 전송을 취소할 수 있으며, 전송된 날짜순으로 전송결과 및 현황을 제공해 드립니다.</p>
    </div>

    <div role="tabpanel">
      <!-- Nav tabs -->
      <ul class="nav nav-tabs" role="tablist">
        <li class="pull-right">
          <form action="" class="form-inline">
            <select name="" id="" class="form-control">
              <option value="">최신순</option>
              <option value="">성공순**</option>
              <option value="">오래된순</option>
              <option value="">대상미디어순</option>
              <option value="">발송수순</option>
            </select>
            <input class="form-control" type="text" placeholder="검색어">
          </form>
        </li>
        <li role="presentation" class="active">
          <a href="#all" aria-controls="all" role="tab" data-toggle="tab">전체(283)</a>
        </li>
        <li role="presentation">
          <a href="#waiting" aria-controls="tab" role="tab" data-toggle="tab">발송대기(1)</a>
        </li>
        <li role="presentation">
          <a href="#sent" aria-controls="tab" role="tab" data-toggle="tab">발송완료(218)</a>
        </li>
        <li role="presentation">
          <a href="#cancelled" aria-controls="tab" role="tab" data-toggle="tab">취소 및 실패(10)</a>
        </li>
      </ul>

      <!-- Tab panes -->
      <div class="tab-content">

        <div role="tabpanel" class="tab-pane active" id="all">

          <div class="news-item" data-ng-repeat="item in vm.data.articleSenders">
            <div class="row">
              <div class="divider col-sm-8">
                <h3><a ui-sref="article-senders.preview({articleSenderId: item._id})">{{item.title}}</a></h3>
                <p><a ui-sref="article-senders.preview({articleSenderId: item._id})">{{item.content | summary}}</a></p>
                <a ng-show="item.image1" href="" ng-click="vm.downloadImage(item.image1)"><img src="{{'/images/' + item.image1}}"></a>
                <a ng-show="item.image2" href="" ng-click="vm.downloadImage(item.image2)"><img src="{{'/images/' + item.image2}}"></a>
                <a ng-show="item.image3" href="" ng-click="vm.downloadImage(item.image3)"><img src="{{'/images/' + item.image3}}"></a>
              </div>
              <div class="col-sm-4">
                <div>상태 : <span for="" class="label label-default" ng-class="{ 'label-success': item.status === 'Sent', 'label-default': item.status === 'Temporary', 'label-primary': item.status === 'ReSend' , 'label-warning': item.status === 'Reserved', 'label-danger': item.status === 'Error' }">{{item.status | status}}</span></div>
                <div>작성일 : {{item.created | date:'yyyy-MM-dd HH:mm:ss'}}</div>
                <div>발송시점 : {{item.reserveTime | reserveTime}}</div>
                <div>희망보도 갯수 : {{item.sendCount}}</div>
                <div>
                  <span ng-show="item.status === 'Reserved' && item.reserveTime !== 0">
                    <a ng-click="vm.cancelArticleSender(item)" class="btn btn-link">발송취소</a>|
                  </span>
                  <span ng-show="item.status === 'Sent'">
                    <a href="#" ng-click="vm.reSendArticle(item)" class="btn btn-link">재발송</a>|
                  </span>
                  <a ui-sref="article-senders.edit({articleSenderId: item._id})" class="btn btn-link">수정</a>|
                  <a href="#" class="btn btn-link" ng-click="vm.remove(item)">삭제</a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- Tab panes -->
      <uib-pagination
        boundary-links="true"
        total-items="vm.totalItems"
        ng-model="vm.currentPage"
        max-size="vm.maxSize"
        ng-change="vm.queryItems()"
        previous-text="&lsaquo;"
        next-text="&rsaquo;"
        first-text="&laquo;"
        last-text="&raquo;">
      </uib-pagination>
    </div>
  </div>
</section>
