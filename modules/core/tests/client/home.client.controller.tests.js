'use strict';

(function () {
  describe('HomeController', function () {
    // Initialize global variables
    var scope,
      httpBackend,
      HomeController;

    // Load the main application module
    beforeEach(module(ApplicationConfiguration.applicationModuleName));

    beforeEach(inject(function ($controller, $rootScope, $httpBackend) {
      scope = $rootScope.$new();

      httpBackend = $httpBackend;
      HomeController = $controller('HomeController as vm', {
        $scope: scope
      });
    }));

    it('should expose the authentication service', function () {
      expect(scope.authentication).toBeTruthy();
    });

    it('should display search results when input keywords', function () {
      scope.searchKeyword = '알파고';

      var resData = "{\"status\":\"done\",\"params\":{\"key\":\"62509358aad6783c7b12047f8ad4a283719d1c91\",\"keyword\":\"robot\",\"except_words\":\"\",\"since\":\"2016-04-19 09:36:49\",\"uni_except_words\":\"y\"},\"msg\":\"\",\"data\":[{\"article_at\":\"2016-04-21 16:57:00\",\"title\":\"\uc778\uacf5\uc9c0\ub2a5 \uc7ac\ud14c\ud06c \ub85c\ubcf4\uc5b4\ub4dc\ubc14\uc774\uc800 \ud0c0\uc2a4(TAS) \ucd9c\uc2dc\",\"url\":\"http:\/\/www.ajunews.com\/view\/20160421164146103\",\"media\":\"\uc544\uc8fc\uacbd\uc81c\",\"summary\":\"\ub85c\ubcf4\uc5b4\ub4dc\ubc14\uc774\uc800\ub294 \ub85c\ubd07(<b>robot<\/b>)\uacfc \ud22c\uc790\uc804\ubb38\uac00(advisor)\uc758 \ud569\uc131\uc5b4\ub2e4. \uc785\ub825\ud55c \uc815\ubcf4\ub97c \ubc14\ud0d5\uc73c\ub85c \uac1c\uc778\uc5d0\uac8c \ucd5c\uc801\ud654\ub41c \ud22c\uc790 \ubc29\ubc95\uc744 \uc124\uacc4, \uc9c4\ud589\ud574 \uc2e0\ub8b0\ub3c4\uac00 \ub192\uc740 \uc0c1\ud488\uc744 \uad6c\uc131\ud560 \uc218 \uc788\ub2e4. \uae40\ub3c4\uae30 \ub300\ud45c\ub294 \u201c\ud0c0\uc2a4\uc5d0\uc11c \ub204\uad6c\ub098 \uc2e0\ub8b0\ud560 \uc218... \"},{\"article_at\":\"2016-04-21 15:14:00\",\"title\":\"[\ub85c\ubd07\uc800\ub110\ub9ac\uc998] \ucf54\uc2a4\ud53c16.27\ud3ec\uc778\ud2b8 \uc0c1\uc2b9,2022.1\ud3ec\uc778\ud2b8 \uac70\ub798 \ub9c8\uac10\",\"url\":\"http:\/\/www.fnnews.com\/news\/201604211509594137\",\"media\":\"\ud30c\uc774\ub0b8\uc15c\ub274\uc2a4\",\"summary\":\"9\uc6d0\uc5d0 \ub9c8\uac10\ud588\ub2e4. &quot;\uc774 \uae30\uc0ac\ub294 \ud30c\uc774\ub0b8\uc15c\ub274\uc2a4\uc640 \ud611\uc5c5\uc73c\ub85c \uc11c\uc6b8\ub300\ud559\uad50 \uc774\uc900\ud658\/\uc11c\ubd09\uc6d0 \uad50\uc218 \uc5f0\uad6c\ud300\uc774 \uac1c\ubc1c\ud55c \uae30\uc0ac \uc791\uc131 \uc54c\uace0\ub9ac\uc998 \ub85c\ubd07\uc774 \uc2e4\uc2dc\uac04\uc73c\ub85c \uc791\uc131\ud588\uc2b5\ub2c8\ub2e4. &quot; <b>robot<\/b>@fnnews.com IamFNBOT\"},{\"article_at\":\"2016-04-20 22:12:00\",\"title\":\"\uace8\uce6b\uac70\ub9ac \ubc14\ud034\ubc8c\ub808\uc758 \ub180\ub77c\uc6b4 \ub2a5\ub825\",\"url\":\"http:\/\/www.jbnews.com\/news\/articleView.html?idxno=729152\",\"media\":\"\uc911\ubd80\ub9e4\uc77c\",\"summary\":\"CRAM(Compressible <b>Robot<\/b> with Articulated Mechanisms)\uc740 '\uad00\uc808 \uba54\ucee4\ub2c8\uc998\uc744 \uac16\ucd98 \uc555\ucd95 \uac00\ub2a5\ud55c \ub85c\ubd07'\uc774\ub77c\ub294 \uc758\ubbf8\uc785\ub2c8\ub2e4. \uc774 \ub85c\ubd07\uc740 \uc9c0\uc9c4\uacfc \uac19\uc740 \uc790\uc5f0\uc7ac\ud574\ub85c \ubb34\ub108\uc9c4 \uac74\ubb3c \uc794\ud574 \uc0ac\uc774\ub098 \uc881\uc740 \uacf5\uac04\uc744 \ud5e4\uc9d1\uace0 \ub2e4\ub2c8\uba70 \uc0ac\ub78c\uc744 \ucc3e\uc744 \uc218... \"},{\"article_at\":\"2016-04-20 18:04:00\",\"title\":\"\ub300\uad6c 'WE SMART'\",\"url\":\"http:\/\/www.hankyung.com\/news\/app\/newsview.php?aid=2016042093791\",\"media\":\"\ud55c\uad6d\uacbd\uc81c\",\"summary\":\"7\ub300 \uc2e0\uc0b0\uc5c5\uc740 \ubb3c(water) \uc5d0\ub108\uc9c0(energy) \uc2a4\ub9c8\ud2b8\uae30\uc220(smart) \uc758\ub8cc\u00b7\ubc14\uc774\uc624(medical) \ubb38\ud654\u00b7\uc608\uc220(art) \ub85c\ubd07(<b>robot<\/b>) \uad00\uad11\u00b7\ucee8\ubca4\uc158(tour)\uc774\ub2e4. \uae40\uc720\uacbd \ud55c\uad6d\uc678\uad6d\uc5b4\ub300 \ub300\uc678\ubd80\ucd1d\uc7a5(\uad6d\uac00\ube0c\ub79c\ub4dc\uc5f0\uad6c\uc13c\ud130\uc7a5)\uc740 \u201c\ub300\uad6c\uc2dc\uac00 \ud55c \ub2e8\uacc4 \ub3c4\uc57d\ud558\uae30... \"},{\"article_at\":\"2016-04-20 16:49:00\",\"title\":\"\uc6b0\ub9ac\uc740\ud589, \ub85c\ubcf4\uc5b4\ub4dc\ubc14\uc774\uc800 \ud1b5\ud574 \uc790\uc0b0\uad00\ub9ac \uc77c\ubc18\uace0\uac1d \ud655\ub300\",\"url\":\"http:\/\/www.ajunews.com\/view\/20160420084329653\",\"media\":\"\uc544\uc8fc\uacbd\uc81c\",\"summary\":\"\ub85c\ubcf4\uc5b4\ub4dc\ubc14\uc774\uc800\ub294 '\ub85c\ubd07(<b>Robot<\/b>)'\uacfc \uc790\ubb38 \uc804\ubb38\uac00\ub97c \ub73b\ud558\ub294 '\uc5b4\ub4dc\ubc14\uc774\uc800(Advisor)'\uc758 \ud569\uc131\uc5b4\ub85c \ub85c\ubd07\uc774 \uac1c\uc778 \uc790\uc0b0\uc744 \uad00\ub9ac\ud574\uc8fc\ub294 \uac83\uc744 \ub9d0\ud55c\ub2e4. \ucef4\ud4e8\ud130 \uc54c\uace0\ub9ac\uc998\uc774 \ube45\ub370\uc774\ud130\ub97c \ubd84\uc11d\ud574 \uace0\uac1d\ubcc4 \ud22c\uc790 \ud3ec\ud2b8\ud3f4\ub9ac\uc624\uc640 \uc0c1\ud488 \uad6c\uc131\uc744... \"},{\"article_at\":\"2016-04-20 15:28:00\",\"title\":\"[\ub85c\ubd07\uc800\ub110\ub9ac\uc998] \ucf54\uc2a4\ud53c 5.53\ud3ec\uc778\ud2b8 \ud558\ub77d, 2005.83\ud3ec\uc778\ud2b8 \uac70\ub798 \ub9c8\uac10\",\"url\":\"http:\/\/www.fnnews.com\/news\/201604201519074781\",\"media\":\"\ud30c\uc774\ub0b8\uc15c\ub274\uc2a4\",\"summary\":\"2\uc6d0\uc5d0 \ub9c8\uac10\ud588\ub2e4. &quot;\uc774 \uae30\uc0ac\ub294 \ud30c\uc774\ub0b8\uc15c\ub274\uc2a4\uc640 \ud611\uc5c5\uc73c\ub85c \uc11c\uc6b8\ub300\ud559\uad50 \uc774\uc900\ud658\/\uc11c\ubd09\uc6d0 \uad50\uc218 \uc5f0\uad6c\ud300\uc774 \uac1c\ubc1c\ud55c \uae30\uc0ac \uc791\uc131 \uc54c\uace0\ub9ac\uc998 \ub85c\ubd07\uc774 \uc2e4\uc2dc\uac04\uc73c\ub85c \uc791\uc131\ud588\uc2b5\ub2c8\ub2e4. &quot; <b>robot<\/b>@fnnews.com IamFNBOT \uae30\uc790\"},{\"article_at\":\"2016-04-20 13:36:00\",\"title\":\"Manufacturing Overcapacity Constrains Industrial Robot Market Growth in ...\",\"url\":\"http:\/\/www.cctvnews.co.kr\/news\/articleView.html?idxno=47270\",\"media\":\"CCTV\ub274\uc2a4\",\"summary\":\"Manufacturing overcapacity will continue to limit industrial <b>robot<\/b> sales growth, particularly... China accounted for 13 percent of global industrial <b>robot<\/b> sales revenue in 2015, and is expected... \"},{\"article_at\":\"2016-04-20 12:57:00\",\"title\":\"[\uad6d\ubbfc\uc7ac\uc0b0\uc99d\uc2dd \ud504\ub85c\uc81d\ud2b8 ISA\u2502\u2460 \uc6b0\ub9ac\uc740\ud589] \ub2f9\uc2e0\ub9cc\uc758 \ud22c\uc790\uc790\ubb38\uc0ac '\uc54c\ud30c\uace0'\ub97c ...\",\"url\":\"http:\/\/www.naeil.com\/news_view\/?id_art=192931\",\"media\":\"\ub0b4\uc77c\uc2e0\ubb38\",\"summary\":\"\ub85c\ubcf4\uc5b4\ub4dc\ubc14\uc774\uc800\ub294 \ub85c\ubd07(<b>Robot<\/b>)\uacfc \uc790\ubb38 \uc804\ubb38\uac00\ub97c \ub73b\ud558\ub294 \uc5b4\ub4dc\ubc14\uc774\uc800(Advisor)\uc758 \ud569\uc131\uc5b4\ub2e4. \ub85c\ubd07\uc774 \uac1c\uc778\uc790\uc0b0\uc744 \uad00\ub9ac\ud574\uc8fc\ub294 \uac83. \uc6b0\ub9ac\uc740\ud589\uc740 \uc774 \uc778\uacf5\uc9c0\ub2a5\uc5d0 '\ub85c\ubcf4\uc5b4\ub4dc-\uc54c\ud30c'\ub780 \uc774\ub984\uc744 \ubd99\uc600\ub2e4. \ucef4\ud4e8\ud130 \uc54c\uace0\ub9ac\uc998\uc774 \uae08\uc735\uad8c\uc5d0... \"},{\"article_at\":\"2016-04-20 11:04:00\",\"title\":\"<PRNewswire> ToGazer Provides Group Video Conferences for Business,\",\"url\":\"http:\/\/app.yonhapnews.co.kr\/YNA\/Basic\/SNS\/r.aspx?c=AKR20160420081200009&did=1195m\",\"media\":\"yonhapnews\",\"summary\":\"Under the IoT megatrend, NEXCOM expands its offerings with solutions in emerging applications including IoT, <b>robot<\/b>, connected cars, Industry 4.0, and industrial security. www.nexcom.com Liyin Lin... \"},{\"article_at\":\"2016-04-19 21:13:00\",\"title\":\"\uace0\uac1d \uc790\uc0b0\uad00\ub9ac \ub85c\ubd07\uc774 \ub300\uc2e0\ud558\ub124\",\"url\":\"http:\/\/www.cctoday.co.kr\/?mod=news&act=articleView&idxno=970949\",\"media\":\"\ucda9\uccad\ud22c\ub370\uc774\",\"summary\":\"\ucd5c\uc815\uc6b0 \uae30\uc790 wooloosa@cctoday.co.kr==============================\ub85c\ubcf4\uc5b4\ub4dc\ubc14\uc774\uc800(Robo-Advisor)=\ub85c\ubd07\uc744 \uc758\ubbf8\ud558\ub294 \ub85c\ubcf4(<b>Robot<\/b>)\uc640 \uc790\ubb38\uac00\ub97c \uc758\ubbf8\ud558\ub294 \uc5b4\ub4dc\ubc14\uc774\uc800(Advisor)\uc758 \ud569\uc131\uc5b4\ub85c, \ucef4\ud4e8\ud130\ub098 \ubaa8\ubc14\uc77c\uc744 \ud1b5\ud574 \ud3ec\ud2b8\ud3f4\ub9ac\uc624 \uc870\uc815\uc744 \uc790\ub3d9\uc73c\ub85c... \"},{\"article_at\":\"2016-04-19 15:15:00\",\"title\":\"[\ub85c\ubd07\uc800\ub110\ub9ac\uc998] \ucf54\uc2a4\ud53c 2.26\ud3ec\uc778\ud2b8 \uc0c1\uc2b9, 2011.36\ud3ec\uc778\ud2b8 \uac70\ub798 \ub9c8\uac10\",\"url\":\"http:\/\/www.fnnews.com\/news\/201604191509415701\",\"media\":\"\ud30c\uc774\ub0b8\uc15c\ub274\uc2a4\",\"summary\":\"3\uc6d0\uc5d0 \ub9c8\uac10\ud588\ub2e4. &quot;\uc774 \uae30\uc0ac\ub294 \ud30c\uc774\ub0b8\uc15c\ub274\uc2a4\uc640 \ud611\uc5c5\uc73c\ub85c \uc11c\uc6b8\ub300\ud559\uad50 \uc774\uc900\ud658\/\uc11c\ubd09\uc6d0 \uad50\uc218 \uc5f0\uad6c\ud300\uc774 \uac1c\ubc1c\ud55c \uae30\uc0ac \uc791\uc131 \uc54c\uace0\ub9ac\uc998 \ub85c\ubd07\uc774 \uc2e4\uc2dc\uac04\uc73c\ub85c \uc791\uc131\ud588\uc2b5\ub2c8\ub2e4. &quot; <b>robot<\/b>@fnnews.com IamFNBOT\"},{\"article_at\":\"2016-04-19 10:37:00\",\"title\":\"\uc608\uc05c\ub370 \ub9d0\ub3c4 \uc798 \ud1b5\ud55c\ub2e4? \u4e2d \ub85c\ubd07 \uc5ec\uc2e0 \u2018\uc7c8\uc7c8\u2019 \ud654\uc81c\",\"url\":\"http:\/\/news.donga.com\/3\/all\/20160419\/77658515\/2\",\"media\":\"\ub3d9\uc544\",\"summary\":\"\uc774 \ub9e4\uccb4\uc5d0 \ub530\ub974\uba74 \uc5f0\uad6c\ud300\uc740 \uc774 \ub300\ud559\uc5d0 \uc7ac\ud559 \uc911\uc778 \ub2e4\uc12f \uba85\uc758 \uc5ec\ud559\uc0dd\ub4e4\uc744 \u2018\uc774\ubbf8\uc9c0 \ubaa8\ub378\u2019\ub85c \ud574 \ub85c\ubd07 \uc5ec\uc2e0(<b>robot<\/b> goddess) \u2018\uc7c8\uc7c8\u2019\ub97c \uc81c\uc791, 15\uc77c \uc774 \ub300\ud559 \ubbf8\ub514\uc5b4\uc13c\ud130\uc5d0\uc11c \uadf8 \uacb0\uacfc\ub97c \ucc98\uc74c \uacf5\uac1c\ud588\ub2e4. \ud0a4 160cm \uc815\ub3c4\uc778 \uc7c8\uc7c8\ub294... \"}]}";
      httpBackend.when('POST', '/search').respond(JSON.stringify(resData));

      scope.goSearch();
      httpBackend.flush();

      expect(scope.resultArticles.length).toBeGreaterThan(0);
    });

  });
}());
